# Putting-the-theory-into-burstlet-theory
code for paper


1. Copy ip3.cc file to new directory and create subdirectory labeled "data"
2. Compile code using g++ compiler (ver. 9.3.0) using the command: 
    ```
   g++ -std=c++0x -O2 ip3.cc -o ip3
   ```

3. Run simulations executing the commands in the file labeled "do". The commands with in the "do" file contains commads for generating the example traces from Fig. 1, Fig. 2 and Fig.4 of the paper. For example the following command will run one simulations for 300 seconds of simulation time with the full population of 400 neurons and kbath=5.5mM and Psynca=6%:
   ```
   ./ip3 -dt .025 -DT 20 -d .3 .3 -s 400 -fc 1.0 1.0 -T 300 -w 0.15 -prob 0.13 -kbath 5.5  -fsca 0.06 0.06 data/net/1.sp -o  >data/net/1.hst 2>data/net/1.ca
   ```
   The first part of the line ``./ip3 `` runs simulations.
   The flags ``-`` determine the model parameters. For example ``-dt .025`` sets the integration step size to 0.025ms,  ``-DT 20`` sets bin size to 20ms population spiking histograms, ``-d .3 .3`` sets the tonic drive (g_{Tonic}) to 0.3nS (if ``-d .3 .4`` was used then g_{tonic} would linearly ramp from 0.3nS to 0.4nS over the course of the simulation time), ``-s 400`` sets the population size, ``-w 0.15`` and ``-prob 0.13`` set the synatic weight and the synaptic connection probability between the rhythm to generating neurons 0.15nS and 13%, ``-kbath 5.5`` set the bath potassium concentration to 5.5mM, and ``-fsca 0.06 0.06`` sets the parameter P_{SynCa} in the paper (fsca in the code) to 0.06 or 6%. 
   Finally ``data/net/1.sp``, ``>data/net/1.hst`` and ``2>data/net/1.ca`` are the directory that the output files ``1.sp``, ``1.hst``, and ``1.ca`` will be written to. For the output of the simulation to be written to file, the folder containing the "ip3.cc" code must include a folder called "data" which must contain the subdirectories "square", "2cell", and "net".


4. Plot Figures. Figures were plotted using gnuplot (Ver. 5.2 patchlevel 8). See http://www.gnuplot.info/ for information and installation instructions. The figures "Fig01_sq_wave.pdf", "Fig02_2cell.pdf" and "Fig04_net.pdf" can be generated by running the gnuplot plotting files "square.plot", "2cell.plot" and "net.plot". With gnuplot installed on Ubuntu 20.04.3 LTS, these gnuplot files can be executed in command line by typing the following command:

```
gnuplot square.plot
```
